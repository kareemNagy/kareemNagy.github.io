"use strict";(self.webpackChunksdb=self.webpackChunksdb||[]).push([["src_app_client_client_module_ts"],{612:(ut,m,c)=>{c.r(m),c.d(m,{ClientModule:()=>dt});var p=c(7232),f=c(294),t=c(7587),g=c(1188),d=c(2921),s=c(9808);function _(n,r){if(1&n&&(t.TgZ(0,"div",6)(1,"div",7),t._UZ(2,"img",8),t.qZA(),t.TgZ(3,"div",9)(4,"h4",10),t._uU(5,"\u0645\u062d\u0645\u062f \u0623\u062d\u0645\u062f"),t.qZA(),t.TgZ(6,"div",11),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"div"),t._UZ(10,"span",12)(11,"span",12)(12,"span",12)(13,"span",12)(14,"span",12),t.qZA(),t.TgZ(15,"div",13),t._uU(16),t.qZA()()()),2&n){const e=r.$implicit;t.xp6(7),t.Oqu(t.lcZ(8,5,e.CreatedDate)),t.xp6(2),t.Gre("rating-stars rating-stars-",e.Rate,""),t.xp6(7),t.Oqu(e.ReviewComment)}}let v=(()=>{class n{constructor(e,o){this.projectService=e,this.route=o,this.comments=[],this.route.params.subscribe(i=>this.projectId=i.projectId)}ngOnInit(){this.projectService.getProject(this.projectId).subscribe(e=>{this.comments=e.reviews})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.Y),t.Y36(d.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-project-comments"]],decls:9,vars:5,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],[1,"counter"],[1,"media-list"],["class","media-list-item align-items-center",4,"ngFor","ngForOf"],[1,"media-list-item","align-items-center"],[1,"flex-shrink-0","img-wrapper"],["src","assets/images/kyan-cafe.png",1,"commenter-img",3,"alt"],[1,"flex-grow-1","ms-3","project-name"],[1,"commenter-name"],[1,"comment-date"],[1,"rating-star"],[1,"comment"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3),t.ALo(4,"translate"),t.TgZ(5,"span",3),t._uU(6),t.qZA()(),t.TgZ(7,"div",4),t.YNc(8,_,17,7,"div",5),t.qZA()()()),2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,3,"admin_pages.new_comments_page.comments")," "),t.xp6(3),t.hij("(",o.comments.length,")"),t.xp6(2),t.Q6J("ngForOf",o.comments))},dependencies:[s.sg,s.uU,p.X$],styles:[".action-links[_ngcontent-%COMP%]{cursor:pointer}.media-list-item[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{width:5rem;height:5rem;border:1px solid #A1B1C0;border-radius:50%}.commenter-name[_ngcontent-%COMP%]{font-size:1.25rem;color:#a1b1c0;font-weight:700;margin-bottom:.5rem}.comment-date[_ngcontent-%COMP%]{font-size:.9rem;color:#a1b1c0;margin-bottom:.5rem}.comment[_ngcontent-%COMP%]{font-size:1.2rem;color:#163d61;font-weight:700}"]}),n})();var C=c(3560),P=c(2340),u=c(3075);function b(n,r){if(1&n&&(t.TgZ(0,"div",11)(1,"div",20),t._UZ(2,"img",21),t.qZA()()),2&n){const e=r.$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("src",o.host+"/"+e.Url,t.LSH)("alt","product")}}function Z(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"label",9),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"input",17),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.product.nameEn=i)}),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,3,"client_pages.product_page.product_name_english")),t.xp6(2),t.Q6J("ngModel",e.product.nameEn)("disabled",!e.editable)}}function A(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"label",9),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"textarea",19),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.product.FullDescriptionEn=i)}),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,3,"client_pages.product_page.product_description_english")),t.xp6(2),t.Q6J("ngModel",e.product.FullDescriptionEn)("disabled",!e.editable)}}function x(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",6)(8,"a",7),t._uU(9,"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a"),t.qZA()()()(),t.TgZ(10,"div",8)(11,"label",9),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",4),t.YNc(15,b,3,2,"div",10),t.TgZ(16,"div",11),t._UZ(17,"input",12),t.TgZ(18,"label",13)(19,"div",14),t._UZ(20,"span",15),t._uU(21),t.ALo(22,"translate"),t.qZA()()()()(),t.TgZ(23,"div")(24,"div",16)(25,"div",5)(26,"label",9),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"input",17),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.product.nameAr=i)}),t.qZA()(),t.YNc(30,Z,5,5,"div",18),t.qZA(),t.TgZ(31,"div",16)(32,"div",5)(33,"label",9),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"textarea",19),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.product.FullDescriptionAr=i)}),t.qZA()(),t.YNc(37,A,5,5,"div",18),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,12,"client_pages.product_page.product_info")),t.xp6(7),t.Oqu(t.lcZ(13,14,"client_pages.product_page.product_images")),t.xp6(3),t.Q6J("ngForOf",e.product.Attachmentlst),t.xp6(6),t.hij(" ",t.lcZ(22,16,"global.add_new_image")," "),t.xp6(6),t.Oqu(t.lcZ(28,18,"client_pages.product_page.product_name_arabic")),t.xp6(2),t.Q6J("ngModel",e.product.nameAr)("disabled",!e.editable),t.xp6(1),t.Q6J("ngIf",e.editable),t.xp6(4),t.Oqu(t.lcZ(35,20,"client_pages.product_page.product_description_arabic")),t.xp6(2),t.Q6J("ngModel",e.product.FullDescriptionAr)("disabled",!e.editable),t.xp6(1),t.Q6J("ngIf",e.editable)}}let j=(()=>{class n{constructor(){this.editable=!1,this.host=P.N.hostUrl}ngOnInit(){console.log(this.product)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-info"]],inputs:{product:"product",editable:"editable"},decls:1,vars:1,consts:[["class","card",4,"ngIf"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"row"],[1,"col"],[1,"col","text-end"],[1,"edit-link"],[1,"mb-4"],[1,"form-label"],["class","col-md-3 col-sm-6",4,"ngFor","ngForOf"],[1,"col-md-3","col-sm-6"],["type","file","id","upload-photo"],["for","upload-photo",1,"add-new-img"],[1,"wrapper"],[1,"icon-add"],[1,"row","mb-3"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["class","col",4,"ngIf"],["rows","5",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"product-img-wrapper"],[3,"src","alt"]],template:function(e,o){1&e&&t.YNc(0,x,38,22,"div",0),2&e&&t.Q6J("ngIf",o.product)},dependencies:[u.Fj,u.JJ,u.On,s.sg,s.O5,p.X$],styles:[".product-img-wrapper[_ngcontent-%COMP%]{padding:.5rem;border-radius:7px;border:1px solid #eef2f3;height:100%;display:flex;justify-content:center;align-items:center}.product-img-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;min-height:150px}.add-new-img[_ngcontent-%COMP%]{padding:.5rem;border-radius:7px;border:solid 1px #eef2f3;height:100%;display:flex;justify-content:center;align-items:center}.add-new-img[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{border:3px solid #eef2f3;height:100%;width:100%;padding:1rem;display:flex;flex-direction:column;justify-content:center;align-items:center}.add-new-img[_ngcontent-%COMP%]   .icon-add[_ngcontent-%COMP%]{font-size:3rem;color:#a2b3be;margin-bottom:.5rem}input[type=file][_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}"]}),n})();class h{constructor(){this.Id=0,this.ProjectId=0,this.nameAr="",this.nameEn="",this.ShortDescriptionAr="",this.ShortDescriptionEn="",this.FullDescriptionAr="",this.FullDescriptionEn="",this.ProductCategoryId=0,this.Price=0,this.CanDelivered=!1,this.UnitAr="",this.UnitEn="",this.Keywordslst=[],this.Attachmentlst=[]}}function I(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",9)(1,"label",7),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"input",10),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.product.Price=i)}),t.ALo(5,"translate"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,4,"client_pages.product_page.unit_english")),t.xp6(2),t.s9C("placeholder",t.lcZ(5,6,"client_pages.product_page.unit_english_placeholder")),t.Q6J("ngModel",e.product.Price)("disabled",!e.editable)}}let T=(()=>{class n{constructor(){this.product=new h,this.editable=!1}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-price"]],inputs:{product:"product",editable:"editable"},decls:27,vars:23,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],[1,"row"],[1,"col"],[1,"col","text-end"],[1,"edit-link"],[1,"form-label"],[1,"row","g-3","gy-4"],[1,"col-sm-6"],["type","text",1,"form-control",3,"ngModel","placeholder","disabled","ngModelChange"],["class","col-sm-6",4,"ngIf"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",5)(8,"a",6),t._uU(9,"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0633\u0639\u0631"),t.qZA()()()(),t.TgZ(10,"label",7),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"div",8)(14,"div",9)(15,"label",7),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"input",10),t.NdJ("ngModelChange",function(a){return o.product.UnitAr=a}),t.ALo(19,"translate"),t.qZA()(),t.YNc(20,I,6,8,"div",11),t.TgZ(21,"div",9)(22,"label",7),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"input",10),t.NdJ("ngModelChange",function(a){return o.product.Price=a}),t.ALo(26,"translate"),t.qZA()()()()()),2&e&&(t.xp6(5),t.Oqu(t.lcZ(6,11,"client_pages.product_page.product_price")),t.xp6(6),t.Oqu(t.lcZ(12,13,"client_pages.product_page.main_product_price")),t.xp6(5),t.Oqu(t.lcZ(17,15,"client_pages.product_page.unit_arabic")),t.xp6(2),t.s9C("placeholder",t.lcZ(19,17,"client_pages.product_page.unit_arabic_placeholder")),t.Q6J("ngModel",o.product.UnitAr)("disabled",!o.editable),t.xp6(2),t.Q6J("ngIf",o.editable),t.xp6(3),t.Oqu(t.lcZ(24,19,"client_pages.product_page.price")),t.xp6(2),t.s9C("placeholder",t.lcZ(26,21,"client_pages.product_page.price_placeholder")),t.Q6J("ngModel",o.product.Price)("disabled",!o.editable))},dependencies:[u.Fj,u.JJ,u.On,s.O5,p.X$]}),n})(),O=(()=>{class n{constructor(){this.product=new h}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-delivery-options"]],inputs:{product:"product"},decls:27,vars:11,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],[1,"row"],[1,"col"],[1,"col","text-end"],[1,"edit-link"],[1,"media-card","align-items-center"],[1,"flex-shrink-0"],[1,"media-icon"],[1,"fa-regular","fa-building"],[1,"flex-grow-1","ms-3"],[1,"flex-shrink-0","ms-3"],[1,"form-check","form-check-inline"],["type","radio","name","inlineRadioOptions","id","inlineRadio1","value","option1","disabled","",1,"form-check-input",3,"checked"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","inlineRadio2","value","option2","disabled","",1,"form-check-input",3,"checked"],["for","inlineRadio2",1,"form-check-label"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",5)(8,"a",6),t._uU(9,"\u062a\u0639\u062f\u064a\u0644 \u0637\u0631\u0642 \u0627\u0644\u062a\u0648\u0635\u064a\u0644"),t.qZA()()()(),t.TgZ(10,"div",7)(11,"div",8)(12,"div",9),t._UZ(13,"i",10),t.qZA()(),t.TgZ(14,"div",11),t._uU(15," \u0634\u0631\u0643\u0629 \u0627\u0631\u0627\u0645\u0643\u0633 \u0644\u0644\u0634\u062d\u0646 \u0648\u0627\u0644\u062a\u0648\u0635\u064a\u0644 "),t.qZA(),t.TgZ(16,"div",12)(17,"div",13),t._UZ(18,"input",14),t.TgZ(19,"label",15),t._uU(20),t.ALo(21,"translate"),t.qZA()(),t.TgZ(22,"div",13),t._UZ(23,"input",16),t.TgZ(24,"label",17),t._uU(25),t.ALo(26,"translate"),t.qZA()()()()()()),2&e&&(t.xp6(5),t.Oqu(t.lcZ(6,5,"delivery_options")),t.xp6(13),t.Q6J("checked",o.product.CanDelivered),t.xp6(2),t.Oqu(t.lcZ(21,7,"global.available")),t.xp6(3),t.Q6J("checked",!o.product.CanDelivered),t.xp6(2),t.Oqu(t.lcZ(26,9,"global.not_available")))},dependencies:[p.X$]}),n})();function y(n,r){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-product-info",1)(2,"app-product-price",1)(3,"app-product-delivery-options",1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("product",e.productInfo),t.xp6(1),t.Q6J("product",e.productInfo),t.xp6(1),t.Q6J("product",e.productInfo)}}let M=(()=>{class n{constructor(e,o){this.route=e,this.productService=o,this.productId=0,this.route.params.subscribe(i=>this.productId=i.id)}ngOnInit(){this.getProductById()}getProductById(){this.productService.getProductById(this.productId).subscribe(e=>{this.productInfo=e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.gz),t.Y36(C.M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-view-product"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"product"]],template:function(e,o){1&e&&t.YNc(0,y,4,3,"div",0),2&e&&t.Q6J("ngIf",o.productInfo)},dependencies:[s.O5,j,T,O]}),n})();var q=c(8556),w=c(3945),U=c(6500),J=c(9049),F=c(3784);const Q=function(n){return["/client/partners",n]};function L(n,r){if(1&n&&(t.TgZ(0,"div",5)(1,"div",6)(2,"div",7),t._UZ(3,"span",8),t.qZA()(),t.TgZ(4,"div",9),t._uU(5),t.qZA(),t.TgZ(6,"a",10),t._uU(7),t.ALo(8,"translate"),t.qZA()()),2&n){const e=r.$implicit;t.xp6(5),t.hij(" ",e.NameAr," "),t.xp6(1),t.Q6J("routerLink",t.VKq(5,Q,e.Id)),t.xp6(1),t.Oqu(t.lcZ(8,3,"global.view"))}}let S=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-delivery-partners"]],inputs:{deliveryPartners:"deliveryPartners"},decls:7,vars:4,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],[1,"partners-list"],["class","media-card align-items-center",4,"ngFor","ngForOf"],[1,"media-card","align-items-center"],[1,"flex-shrink-0"],[1,"media-icon"],[1,"icon-pos"],[1,"flex-grow-1","ms-3"],["href","#",1,"flex-shrink-0",3,"routerLink"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3),t.YNc(6,L,9,7,"div",4),t.qZA()()()),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,2,"client_pages.partners_page.delivery_partners")),t.xp6(3),t.Q6J("ngForOf",o.deliveryPartners))},dependencies:[s.sg,d.yS,p.X$],styles:[".media-card[_ngcontent-%COMP%]{margin-bottom:1rem}.media-card[_ngcontent-%COMP%]:last-child{margin-bottom:0}.media-card[_ngcontent-%COMP%]   .media-icon[_ngcontent-%COMP%]{font-size:2rem}"]}),n})(),B=(()=>{class n{constructor(e){this.partnerService=e,this.projectId=Number(sessionStorage.getItem("projectId"))}ngOnInit(){this.getPartners()}getPartners(){this.partnerService.getPartners(this.projectId).subscribe(e=>{this.partnersList=e})}getServicePartners(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(F.b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-client-partners"]],decls:1,vars:1,consts:[[3,"deliveryPartners"]],template:function(e,o){1&e&&t._UZ(0,"app-delivery-partners",0),2&e&&t.Q6J("deliveryPartners",o.partnersList)},dependencies:[S],styles:["[_nghost-%COMP%]  .partners-list a{color:#19aec8;text-decoration:none}"]}),n})();var D=c(5890),E=c(9305),N=c(3858),R=c(4604);function H(n,r){if(1&n&&(t.TgZ(0,"li",11),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e)}}let Y=(()=>{class n{constructor(e){this.appPreferenceService=e,this.currentPath=[]}ngOnInit(){this.handleBreadcrumbValus()}handleBreadcrumbValus(){this.currentPath=this.appPreferenceService.getCurrentPath().split("/").filter(e=>e.length>0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(R.R))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-page-header"]],inputs:{projectInfo:"projectInfo"},decls:16,vars:8,consts:[[1,"card"],[1,"card-body"],[1,"d-flex","align-items-center"],[1,"flex-grow-1"],[1,"card-title"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],["class","breadcrumb-item active","aria-current","page",4,"ngFor","ngForOf"],[1,"flex-shrink-0","project-status","project-status-opened","ms-3"],["aria-current","page",1,"breadcrumb-item","active"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.TgZ(6,"nav",5)(7,"ol",6)(8,"li",7)(9,"a",8),t._uU(10,"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"),t.qZA()(),t.YNc(11,H,2,1,"li",9),t.qZA()()(),t.TgZ(12,"div",10),t._uU(13),t.ALo(14,"translate"),t.ALo(15,"translate"),t.qZA()()()()),2&e&&(t.xp6(5),t.Oqu(o.projectInfo.nameAr),t.xp6(6),t.Q6J("ngForOf",o.currentPath),t.xp6(2),t.AsE(" ",t.lcZ(14,4,"project_status")," : ",t.lcZ(15,6,o.projectInfo.status)," "))},dependencies:[s.sg,p.X$],styles:['.card-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:900;margin:0;margin-bottom:.5rem}.card-title[_ngcontent-%COMP%]:after{content:inherit}.card[_ngcontent-%COMP%]   .project-status[_ngcontent-%COMP%]{padding:1rem;font-weight:500;border-radius:6px}.card[_ngcontent-%COMP%]   .project-status-opened[_ngcontent-%COMP%]{color:#3bb07f;background:#ebf6f2}[_nghost-%COMP%]  .breadcrumb{font-weight:500}[_nghost-%COMP%]  .breadcrumb-item{font-size:1rem;color:#163d61}[_nghost-%COMP%]  .breadcrumb-item:not(:first-child):before{font-family:SDB-icon-font!important;content:"\\e908"}[dir=rtl]   [_nghost-%COMP%]  .breadcrumb-item:not(:first-child):before{font-family:SDB-icon-font!important;content:"\\e907"}[_nghost-%COMP%]  .breadcrumb-item:not(.active){color:#717d85}[_nghost-%COMP%]  .breadcrumb-item:not(.active) a{text-decoration:none;color:inherit}[_nghost-%COMP%]  .breadcrumb-item:not(.active) a:hover{text-decoration:underline}']}),n})();var X=c(8283),K=c(2643),z=c(3758),G=c(459),V=c(6027),$=c(1920),k=c(2652),l=c(4402);const W=function(n){return[n]};let tt=(()=>{class n{constructor(){this.numberOfProducts=new l.h("\u0639\u062f\u062f \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a",this.productCount),this.numberOfBranches=new l.h("\u0639\u062f\u062f \u0645\u0646\u0627\u0641\u0630 \u0627\u0644\u0628\u064a\u0639",this.storeCount),this.numberOfComments=new l.h("\u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a",this.commentCount),this.statisticsCards=[this.numberOfProducts,this.numberOfBranches,this.numberOfComments]}ngOnInit(){this.numberOfProducts.value=this.productCount,this.numberOfBranches.value=this.storeCount,this.numberOfComments.value=this.commentCount}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-client-statistics"]],inputs:{projectId:"projectId",productCount:"productCount",storeCount:"storeCount",commentCount:"commentCount"},decls:22,vars:6,consts:[[1,"row","gx-3"],[1,"col-sm-4"],[1,"card"],[1,"card-body"],[1,"statistics-value"],[1,"statistics-title"],[1,"card","cursor-mark",3,"routerLink"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.TgZ(6,"div",5),t._uU(7,"\u0639\u062f\u062f \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"),t.qZA()()()(),t.TgZ(8,"div",1)(9,"div",2)(10,"div",3)(11,"div",4),t._uU(12),t.qZA(),t.TgZ(13,"div",5),t._uU(14,"\u0639\u062f\u062f \u0645\u0646\u0627\u0641\u0630 \u0627\u0644\u0628\u064a\u0639"),t.qZA()()()(),t.TgZ(15,"div",1)(16,"div",6)(17,"div",3)(18,"div",4),t._uU(19),t.qZA(),t.TgZ(20,"div",5),t._uU(21,"\u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a"),t.qZA()()()()()),2&e&&(t.xp6(5),t.Oqu(o.productCount),t.xp6(7),t.Oqu(o.storeCount),t.xp6(4),t.Q6J("routerLink",t.VKq(4,W,"/client/projects/"+o.projectId+"/comments")),t.xp6(3),t.Oqu(o.commentCount))},dependencies:[d.rH],styles:[".card[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:#163d61}.card[_ngcontent-%COMP%]   .statistics-value[_ngcontent-%COMP%]{font-size:1.25rem;background:#19aec8;border-radius:20px;color:#fff;display:inline-flex;align-items:center;justify-content:center;width:auto;height:40px;margin:auto;margin-bottom:.5rem;min-width:40px;padding:0 .5rem}.card[_ngcontent-%COMP%]   .statistics-title[_ngcontent-%COMP%]{font-size:1.25rem}.cursor-mark[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();function et(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t._UZ(1,"app-page-header",2)(2,"app-client-statistics",3),t.TgZ(3,"app-company-info",4),t.NdJ("descriptionChanged",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.setDescription(i))}),t.qZA(),t._UZ(4,"app-activity",5)(5,"app-products",6)(6,"app-branches",6)(7,"app-attachments",5),t.TgZ(8,"app-location",7),t.NdJ("locationChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.setLocation(i))}),t.qZA(),t.TgZ(9,"app-contacts",8),t.NdJ("contactsUpdated",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.updateContacts())}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("projectInfo",e.currentProject),t.xp6(1),t.Q6J("productCount",e.currentProject.products.length)("storeCount",e.currentProject.branches.length)("commentCount",e.currentProject.reviews.length)("projectId",e.currentProject.projectId),t.xp6(1),t.Q6J("projectInfo",e.currentProject)("editable",!1),t.xp6(1),t.Q6J("projectInfo",e.currentProject)("editable",!1),t.xp6(1),t.Q6J("project",e.currentProject)("editable",!1),t.xp6(1),t.Q6J("project",e.currentProject)("editable",!1),t.xp6(1),t.Q6J("projectInfo",e.currentProject)("editable",!1),t.xp6(1),t.Q6J("project",e.currentProject),t.xp6(1),t.Q6J("projectInfo",e.currentProject)("editable",!1)}}function nt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-page-action-buttons",9),t.NdJ("saveChanges",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.sendForApproval())})("cancelChanges",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.cancel())}),t.qZA()}2&n&&t.Q6J("saveTitle","\u0627\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628 \u0644\u0644\u0645\u0631\u0627\u062c\u0639\u0629")}function ot(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-page-action-buttons",9),t.NdJ("saveChanges",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.saveProjectInfo())})("cancelChanges",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.cancelEdit())}),t.qZA()}2&n&&t.Q6J("saveTitle","\u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a")}let rt=(()=>{class n{constructor(e,o){this.projectService=e,this.requestService=o,this.showApprovalButtons=!1,this.showEditButtons=!1,this.locationChanged=!1,this.descriptionChanged=!1,this.currentUpdateRequest=new D.c,this.currentDescription="",this.currentLocation="",this.requestAvailable=!1}ngOnInit(){this.getCurrentProject()}getCurrentProject(){this.projectService.getProject(16646).subscribe(e=>{this.currentProject=e,this.currentDescription=this.currentProject.descriptionAr,this.currentLocation=this.currentProject.latitude+","+this.currentProject.longitute,this.getCurrentUpdateRequests()})}getCurrentUpdateRequests(){this.requestService.getProjectOpenRequests(this.currentProject.projectId).subscribe(e=>{var o,i;this.currentUpdateRequest=e.Rows[0],"Draft"==(null===(i=null===(o=null==e?void 0:e.Rows[0])||void 0===o?void 0:o.ApprovalStatusRecord)||void 0===i?void 0:i.NameAr)&&(this.showApprovalButtons=!0,this.requestAvailable=!0)})}setLocation(e){this.locationChanged=!0,this.currentProject.latitude=e.split(",")[0],this.currentProject.longitute=e.split(",")[1],this.currentProject.longitude=e.split(",")[1],this.showEditButtons||(this.showEditButtons=!0)}cancel(){this.showApprovalButtons=!1}cancelEdit(){this.showEditButtons=!1,this.currentProject.descriptionAr=this.currentDescription,this.currentProject.latitude=this.currentLocation.split(",")[0],this.currentProject.longitute=this.currentLocation.split(",")[1]}setDescription(e){this.currentProject.descriptionAr=e,this.currentProject.descriptionEn=e,this.descriptionChanged=!0,this.showEditButtons||(this.showEditButtons=!0)}saveProjectInfo(){this.currentProject.address=this.currentLocation,this.currentProject.longitude=this.currentProject.longitute,this.currentProject.projectCategoryId=1,this.currentProject.projectSubCategoryId=1,this.requestAvailable?this.requestService.createProjectChange(this.currentProject,this.currentUpdateRequest.RelatedProjectVersionId).subscribe(e=>{this.showEditButtons=!1,this.showApprovalButtons||(this.showApprovalButtons=!0)}):this.createUpdateRequest()}createUpdateRequest(){this.requestService.createProjectUpdateRequest(this.currentProject.projectId).subscribe(e=>{this.currentUpdateRequest=e,this.requestAvailable=!0,this.saveProjectInfo()})}updateContacts(){console.log(this.currentProject),this.showEditButtons||(this.showEditButtons=!0)}sendForApproval(){this.requestService.sendProjectRequestForApproval(this.currentUpdateRequest.Id).subscribe(e=>{this.showApprovalButtons=!1})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.Y),t.Y36(E.s))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-project-info"]],decls:3,vars:3,consts:[[4,"ngIf"],[3,"saveTitle","saveChanges","cancelChanges",4,"ngIf"],[3,"projectInfo"],[3,"productCount","storeCount","commentCount","projectId"],[3,"projectInfo","editable","descriptionChanged"],[3,"projectInfo","editable"],[3,"project","editable"],[3,"project","locationChange"],[3,"projectInfo","editable","contactsUpdated"],[3,"saveTitle","saveChanges","cancelChanges"]],template:function(e,o){1&e&&(t.YNc(0,et,10,18,"div",0),t.YNc(1,nt,1,1,"app-page-action-buttons",1),t.YNc(2,ot,1,1,"app-page-action-buttons",1)),2&e&&(t.Q6J("ngIf",o.currentProject),t.xp6(1),t.Q6J("ngIf",o.showApprovalButtons),t.xp6(1),t.Q6J("ngIf",o.showEditButtons))},dependencies:[N.V,Y,X.y,K.P,z.I,G.t,V.n,$.O,s.O5,k.l,tt]}),n})();var it=c(5250);let ct=(()=>{class n{constructor(){}ngOnInit(){sessionStorage.setItem("projectId","16646")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-homepage"]],decls:6,vars:0,consts:[[1,"row","gx-0"],[1,"col-lg-2"],[1,"col-lg-10","p-4"],[1,"content-wrapper"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-sidebar-menu"),t.qZA(),t.TgZ(3,"div",2)(4,"div",3),t._UZ(5,"router-outlet"),t.qZA()()())},dependencies:[it.V,d.lC]}),n})();var at=c(4520);const st=[{path:"",component:ct,children:[{path:"profile",component:rt},{path:"partners",component:B},{path:"partners/:id",component:J.S},{path:"branches/:id",component:at.U},{path:"products/:id",component:M},{path:"projects/:projectId/add-product",component:q.e},{path:"projects/:projectId/add-branch",component:U.n},{path:"projects/:projectId/comments",component:v},{path:"map",component:w.p}]}];let pt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.Bz.forChild(st),d.Bz]}),n})(),dt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[f.I,pt,p.aw.forChild()]}),n})()}}]);